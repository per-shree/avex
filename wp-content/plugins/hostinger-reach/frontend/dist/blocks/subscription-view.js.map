{"version":3,"file":"subscription-view.js","mappings":"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","sources":["webpack://hostinger-reach/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://hostinger-reach/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://hostinger-reach/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://hostinger-reach/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://hostinger-reach/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://hostinger-reach/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://hostinger-reach/webpack/bootstrap","webpack://hostinger-reach/webpack/runtime/define property getters","webpack://hostinger-reach/webpack/runtime/hasOwnProperty shorthand","webpack://hostinger-reach/./frontend/blocks/subscription-block/src/view.js"],"sourcesContent":["function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","document.addEventListener('DOMContentLoaded', function() {\n\tconst translations = hostinger_reach_subscription_block_data.translations;\n\tconst formSelector = '.hostinger-reach-block-subscription-form';\n\tconst forms = document.querySelectorAll(formSelector);\n\tforms.forEach(form => {\n\t\tconst messageEl = form.querySelector('.reach-subscription-message');\n\t\tform.addEventListener('submit', function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tconst submitBtn = form.querySelector('button[type=\"submit\"]');\n\t\t\tconst formData = new FormData(form);\n\t\t\tconst data = {};\n\n\t\t\tformData.forEach((value, key) => {\n\t\t\t\tif (key.includes('.')) {\n\t\t\t\t\tconst [ mainKey, subkey ] = key.split('.');\n\n\t\t\t\t\tif ( ! data[mainKey] ) {\n\t\t\t\t\t\tdata[mainKey] = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tdata[mainKey][subkey] = value;\n\t\t\t\t} else {\n\t\t\t\t\tdata[key] = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsubmitBtn.disabled = true;\n\n\t\t\tfetch(hostinger_reach_subscription_block_data.endpoint, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'X-WP-Nonce': hostinger_reach_subscription_block_data.nonce,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(data)\n\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tmessageEl.style.display = 'block';\n\t\t\t\t\tform.reset();\n\n\t\t\t\t\tif ( response.ok ) {\n\t\t\t\t\t\tmessageEl.textContent = translations.thanks;\n\t\t\t\t\t\tconst submitBtn = form.querySelector('.hostinger-reach-block-submit');\n\t\t\t\t\t\tsubmitBtn.style.display = 'none';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(response.statusText);\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tmessageEl.textContent = translations.error;\n\t\t\t\t\tmessageEl.style.display = 'block';\n\t\t\t\t\tsubmitBtn.disabled = false;\n\t\t\t\t});\n\t\t});\n\t});\n});\n"],"names":["_arrayLikeToArray","r","a","length","e","n","Array","_arrayWithHoles","isArray","_slicedToArray","_nonIterableRest","TypeError","_unsupportedIterableToArray","t","toString","call","slice","constructor","name","from","test","_iterableToArrayLimit","l","Symbol","iterator","i","u","f","o","next","Object","done","push","value","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","document","addEventListener","translations","hostinger_reach_subscription_block_data","querySelectorAll","forEach","form","messageEl","querySelector","preventDefault","submitBtn","formData","FormData","data","includes","_key$split","split","_key$split2","mainKey","subkey","disabled","fetch","endpoint","method","headers","nonce","body","JSON","stringify","then","response","style","display","reset","ok","Error","statusText","textContent","thanks","catch","error"],"sourceRoot":""}