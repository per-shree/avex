"use strict";(self.webpackChunkhostinger_reach=self.webpackChunkhostinger_reach||[]).push([[132,239],{132:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var n=t(425);const l=(0,n.KR)(0),o=(0,n.KR)(null),i={class:"base-modal"},s={class:"base-modal__header"},r={key:0,class:"base-modal__title"};var c=(0,n.pM)({__name:"BaseModal",props:{title:{},subtitle:{},titleAlignment:{default:"left"},disableScroll:{type:Boolean,default:!0}},setup(e){const a=e,{lockScroll:t,unlockScroll:c}={lockScroll:()=>{if(l.value++,1===l.value){o.value={overflow:document.body.style.overflow,paddingRight:document.body.style.paddingRight};const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",e>0&&(document.body.style.paddingRight=`${e}px`)}},unlockScroll:()=>{l.value=Math.max(0,l.value-1),0===l.value&&o.value&&(document.body.style.overflow=o.value.overflow,document.body.style.paddingRight=o.value.paddingRight,o.value=null)},isLocked:()=>l.value>0};return(0,n.sV)(()=>{a.disableScroll&&t()}),(0,n.hi)(()=>{a.disableScroll&&c()}),(a,t)=>((0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",s,[(0,n.RG)(a.$slots,"back-button"),(0,n.Lk)("span",{class:(0,n.C4)(["base-modal__title-container",{"base-modal__title-container--centered":"centered"===e.titleAlignment}])},[(0,n.RG)(a.$slots,"title-icon"),e.title?((0,n.uX)(),(0,n.CE)("h2",r,(0,n.v_)(e.title),1)):(0,n.Q3)("v-if",!0)],2)]),e.subtitle?((0,n.uX)(),(0,n.CE)("p",{key:0,class:(0,n.C4)(["base-modal__subtitle",{"base-modal__subtitle--centered":"centered"===e.titleAlignment}])},(0,n.v_)(e.subtitle),3)):(0,n.Q3)("v-if",!0),(0,n.RG)(a.$slots,"default")]))}});var d=(0,t(262).A)(c,[["__scopeId","data-v-330ecf55"]])},239:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var n=t(425),l=t(132),o=t(229),i=(t(326),t(579)),s=(t(337),t(818),t(408));const r={class:"confirm-disconnect-modal"},c={class:"confirm-disconnect-modal__content"},d={class:"confirm-disconnect-modal__footer"};var u=(0,n.pM)({__name:"ConfirmDisconnectModal",props:{data:{}},setup(e){const{closeModal:a}=(0,o.hS)(),t=(0,i.Q)(),u=e,g=()=>{const e=u.data?.backButtonRedirectAction;e?e():a()};return(e,a)=>{const o=(0,n.g2)("HIcon"),i=(0,n.g2)("HText"),v=(0,n.g2)("HButton");return(0,n.uX)(),(0,n.Wv)(l.default,{"title-alignment":"left",title:(0,n.R1)(s.T)("hostinger_reach_confirm_disconnect_modal_title")},{"title-icon":(0,n.k6)(()=>[(0,n.bF)(o,{class:"confirm-disconnect-modal__icon",name:"ic-warning-circle-filled-24",color:"danger--600"})]),default:(0,n.k6)(()=>[(0,n.Lk)("div",r,[(0,n.Lk)("div",c,[(0,n.bF)(i,{variant:"body-2",as:"p",class:"confirm-disconnect-modal__text"},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)((0,n.R1)(s.T)("hostinger_reach_confirm_disconnect_modal_text")),1)]),_:1})]),(0,n.Lk)("div",d,[(0,n.bF)(v,{variant:"text",color:"neutral",size:"small",onClick:g},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)((0,n.R1)(s.T)("hostinger_reach_confirm_disconnect_modal_cancel")),1)]),_:1}),(0,n.bF)(v,{color:"danger",size:"small","is-disabled":(0,n.R1)(t).isIntegrationLoading(u.data?.integration),onClick:a[0]||(a[0]=e=>(async e=>{await t.toggleIntegrationStatus(e,!1),g()})(u.data?.integration))},{default:(0,n.k6)(()=>[(0,n.eW)((0,n.v_)((0,n.R1)(s.T)("hostinger_reach_confirm_disconnect_modal_disconnect")),1)]),_:1},8,["is-disabled"])])])]),_:1},8,["title"])}}});var g=(0,t(262).A)(u,[["__scopeId","data-v-7e00c62c"]])},818:function(e,a,t){t.d(a,{Z:function(){return g}});var n=t(774),l=t(425);var o=t(223),i=t(326),s=t(602),r=t(264),c=t(371);const d=`${hostinger_reach_reach_data.rest_base_url}wp/v2`,u=(e,a)=>{const{nonce:t,totalFormPages:n}=(0,i.N)(),l=e?.page||1,u=e?.perPage||5,g=n||0,v=Math.ceil(g/u),_=new URLSearchParams;_.append("hostinger_reach_page_query","1"),_.append("page",l.toString()),_.append("per_page",u.toString());const m={headers:{[s.Y9.CORRELATION_ID]:a?.[s.Y9.CORRELATION_ID]||(0,r.d)(),[s.Y9.WP_NONCE]:t}};return c.A.get(`${d}/pages?${_.toString()}`,m).then(([e,a])=>{if(a)return[null,a];const t=e?.map(e=>{let a=`/wp-admin/post.php?post=${e.id}`;return e.HostingerReachPluginHasSubscriptionBlock||(a=`${a}&hostinger_reach_add_block=1`),a=e.HostingerReachPluginIsElementor?`${a}&action=elementor`:`${a}&action=edit`,{id:e.id.toString(),name:(0,o.D4)(e.title.rendered),link:a,isAdded:e.HostingerReachPluginHasSubscriptionBlock??!1}})||[];return[{data:t,pagination:{currentPage:l,totalPages:v,totalItems:g,perPage:u}},null]})},g=(0,n.nY)("pagesStore",()=>{const e=((e,a={})=>{const{itemsPerPage:t=5,initialPage:n=1,autoLoad:o=!0}=a,i=(0,l.KR)(n),s=(0,l.KR)(0),r=(0,l.KR)(0),c=(0,l.KR)([]),d=(0,l.KR)(!1),u=(0,l.KR)(!1),g=(0,l.KR)(null),v=(0,l.EW)(()=>i.value>1),_=(0,l.EW)(()=>i.value<s.value),m=(0,l.EW)(()=>!d.value&&0===c.value.length),p=(0,l.EW)(()=>(i.value-1)*t+1),h=(0,l.EW)(()=>Math.min(i.value*t,r.value)),f=(0,l.EW)(()=>({from:p.value,to:h.value,total:r.value})),P=async(a=i.value)=>{d.value=!0,u.value=!1,g.value=null;try{const[n,l]=await e(a,t);return l?(u.value=!0,g.value=l,c.value=[],!1):!!n&&(c.value=n.data,i.value=n.pagination.currentPage,s.value=n.pagination.totalPages,r.value=n.pagination.totalItems,!0)}catch(e){return u.value=!0,g.value=e,c.value=[],!1}finally{d.value=!1}},b=async e=>{e>=1&&e<=s.value&&e!==i.value&&!d.value&&await P(e)},R=async()=>{v.value&&await b(i.value-1)},y=async()=>{_.value&&await b(i.value+1)};return o&&P(n),{currentPage:i,totalPages:s,totalItems:r,itemsPerPage:t,items:c,isLoading:d,hasError:u,error:g,hasPrevious:v,hasNext:_,isEmpty:m,startIndex:p,endIndex:h,pageRange:f,loadData:P,goToPage:b,setPage:e=>b(e),nextPage:()=>y(),prevPage:()=>R(),goToFirstPage:async()=>{await b(1)},goToLastPage:async()=>{await b(s.value)},goToPreviousPage:R,goToNextPage:y,refresh:async()=>{await P(i.value)}}})(async(e,a)=>await u({page:e,perPage:a},void 0),{itemsPerPage:10,initialPage:1,autoLoad:!1});return{pages:e.items,isPagesLoading:e.isLoading,resetToFirstPage:async()=>{await e.goToPage(1)},...e}},{persist:{key:s.PK.PAGES_STORE}})}}]);